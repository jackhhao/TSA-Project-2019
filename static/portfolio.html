<!DOCTYPE HTML>
<!--
	Theory by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Elements - Theory by TEMPLATED</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="../assets/main.css" />
	</head>
	<body onload = "populate()" class="subpage">

		<!-- Header -->
			<header id="header">
				<div class="inner">
					<a href="/" class="logo">Theory</a>
					<nav id="nav">
						<a href="/">Home</a>
						<a href="/stocks">Stocks</a>
						<a href="/portfolio">Portfolio</a>
					</nav>
					<a href="#navPanel" class="navPanelToggle"><span class="fa fa-bars"></span></a>
				</div>
			</header>

		<!-- Main -->
			<section id="main" class="wrapper">
				<div class="inner">
					<header class="align-center">
						<h2>Portfolio</h2>
						<p>Track Selected Stocks</p>
					</header>

					<table id = "stockTable" class = "tableVals">
						<tr id = "headers">
							<th id = "tickerHeader"><center>Stock Ticker</center></th>
							<th id = "currentPriceHeader"><center>Current Price</center></th>
							<th id = "recBuyPrice"><center>Recommend Buy Price</center></th>
							<th id = "recSellPrice"><center>Recommend Sell Price</center></th>
							<th id = "uBuyPrice"><center>Your Buy Price</center></th>
							<th id = "uSellPrice"><center>Your Sell Price</center></th>
							<th id = "lg"><center>Gain/Loss</center></th>
						</tr>
						<!-- <tr class = "row1">
							<td id = "t1"><center></center></td>
							<td id = "p1"><center></center></td>
							<td id = "r1"><center></center></td>
						</tr>
						<tr class = "row2">
							<td id = "t2"><center></center></td>
							<td id = "p2"><center></center></td>
							<td id = "r2"><center></center></td>
						</tr>
						<tr class = "row3">
							<td id = "t3"><center></center></td>
							<td id = "p3"><center></center></td>
							<td id = "r3"><center></center></td>
						</tr>
						<tr class = "row4">
							<td id = "t4"><center></center></td>
							<td id = "p4"><center></center></td>
							<td id = "r4"><center></center></td>
						</tr>
						<tr class = "row5">
							<td id = "t5"><center></center></td>
							<td id = "p5"><center></center></td>
							<td id = "r5"><center></center></td>
						</tr>
						<tr class = "row6">
							<td id = "t6"><center></center></td>
							<td id = "p6"><center></center></td>
							<td id = "r6"><center></center></td>
						</tr>
						<tr class = "row7">
							<td id = "t7"><center></center></td>
							<td id = "p7"><center></center></td>
							<td id = "r7"><center></center></td>
						</tr>
						<tr class = "row8">
							<td id = "t8"><center></center></td>
							<td id = "p8"><center></center></td>
							<td id = "r8"><center></center></td>
						</tr>
						<tr class = "row9">
							<td id = "t9"><center></center></td>
							<td id = "p9"><center></center></td>
							<td id = "r9"><center></center></td>
						</tr>
						<tr class = "row10">
							<td id = "t10"><center></center></td>
							<td id = "p10"><center></center></td>
							<td id = "r10"><center></center></td>
						</tr> -->
					</table>

				<div class = "container">
					Enter Stock: <input type="text" id="field1">
				</div>
				<div class = container-fluid>
					<p></p>
					<button id = "btn1">Submit</button>
				</div>
				<div class = "output">
					<p><b>

					<p id='paragraph'></p>
					<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

					<!-- <script>
					let count = 0;
					$('#addColumnChild').click(function(){
						 $(`tr${count}`).each(function(){
							 for(let i=0; i<)
								$(this).append(`<td></td>`);
						 });
						});

						$('#addRowChild').click(function(){
						 $('#my-table tbody').append(`<tr>${$('#default-row').html()}</tr>`);
						});
					</script> -->

					<script>
					let rows = 0;
					let cols = 7;
			      function testFunc() {
			        var value = document.getElementById("field1").value;
			        $ .get  ("/lookup", {v: value}, function(result) {
			        $ ( "#paragraph" ).text( result );
			        })
			      }

						// function populate(rows){
						// 	let table = document.getElementById("stockTable")
						// 	let r=1;
						// 	while(row=table.rows[r++])
						// 	{
						// 		row.cells[0].innerHTML = localStorage.getItem(`stock${r-2}`)
						// 	}
						//
						// 	$('#addColumnChild').click(function(){
						// 		 $(`tr${count}`).each(function(){
						// 			 for(let i=0; i<10;i++)
						// 				$(this).append(`<td></td>`);
						// 		 });
						// 		});
						//
						// 		$('#addRowChild').click(function(){
						// 		 $('#my-table tbody').append(`<tr>${$('#default-row').html()}</tr>`);
						// 		});
						// }

						function populate() {
								console.log("hi")
								console.log(localStorage.getItem('stock1'))
								console.log(localStorage.getItem('stock3'))
								for (let i=0; i < localStorage.length; i++)
								{
									$("#stockTable").append(`<tr class = "row${i + 1}" id = "row${i+1}"></tr>`);
									console.log(`<tr class=row${i + 1}>`);
									for (let j=0; j<cols; j++)
									{
										var rowID;
										switch(j)
										{
											case 0:
												rowID = `t${i + 1}`
												$(`#row${i+1}`).append(`<td id = "${rowID}"><center>${localStorage.getItem(`stock${i}`)}</center></td>`)
											case 1:
												rowID = `p${i + 1}`
											case 2:
												rowID = `r${i + 1}`
										}

										console.log(`<td id = "${rowID}"><center>AAPL</center></td>`);
									}
									// $("#stockTable").append(`</tr>`);
									console.log(`</tr>`)
								}
								console.log(document.getElementById("stockTable").innerHTML);
						};
						window.onload=populate;
					</script>

			    <script>
			      var input = document.getElementById("field1");
			      input.addEventListener("keyup", function(event) {
			        if (event.keyCode === 13) {
			         event.preventDefault();
			         document.getElementById("btn1").click();
			        }
			      });
			    </script>


		<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<div class="flex">
						<div class="copyright">
							&copy; Untitled. Design: <a href="https://templated.co">TEMPLATED</a>. Images: <a href="https://unsplash.com">Unsplash</a>.
						</div>
						<ul class="icons">
							<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon fa-linkedin"><span class="label">linkedIn</span></a></li>
							<li><a href="#" class="icon fa-pinterest-p"><span class="label">Pinterest</span></a></li>
							<li><a href="#" class="icon fa-vimeo"><span class="label">Vimeo</span></a></li>
						</ul>
					</div>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
